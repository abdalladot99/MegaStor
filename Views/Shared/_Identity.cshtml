 
@inject UserManager<ApplicationUser> UserManager;


@{
    var user = await UserManager.GetUserAsync(User);

}

@if (!User.Identity.IsAuthenticated)
{
    <ul class="header-links pull-right">
        <li>
            <a  asp-controller="AccountSettings" asp-action="Login">
                <i class="bi bi-box-arrow-in-right"></i> Log in
			</a>
		</li>
         <li>
            <a asp-controller="AccountSettings" asp-action="Register">
               <i class="bi bi-person-plus"></i> Register
			</a>
		</li>
    </ul>
}
 
else
{
         

    @*User profile section*@
      
    <li id="account-button">
        <a href="#"><i class="fa fa-user-o"></i> My Account </a>
    </li> 

	<div id="dropdown-menu" class="hidden" class="dropdown" >
         

        <p><strong>Welcome ~ @user.FullName </strong></p>
        <p class="text-muted">@user.Email</p>
        <hr/>
        <ul>
            <li>
                <a class="dropdown-item"  asp-controller="AccountServices" asp-action="MyAccount">
                    <i class="bi bi-person-badge"></i>  Profile
                </a>
            </li> 
            @if (User.IsInRole("Seller"))
            {   
                <li> 
                    <a asp-controller="Seller" asp-action="DashboardSeller" class="dropdown-item">
                        <i class="bi bi-speedometer2"></i>
                        <span>Seller Dashboard</span>
                    </a>
                 </li>
            }
            <li>
                 <a asp-controller="AccountSettings" asp-action="Logout" class="dropdown-item">
                      <i class="bi bi-box-arrow-right" ></i>  Logout
                 </a>
            </li>

            
        </ul>


    </div>
     
  
 }
   
 

<style>
	.account-menu {
		position: relative;
		display: inline-block;
	}

	#dropdown-menu {
		display: none;
		position: absolute;
		background-color: #f9f9f9;
		min-width: 200px;
		box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
		padding: 12px 16px;
		z-index: 8000;
        border-radius:8px;
	}

	.hidden {
		display: none;
	}

	#dropdown-menu ul {
		list-style: none;
		padding: 0;
	}

	#dropdown-menu li {
		margin: 8px 0;
        display:block;
	}

		#dropdown-menu li a {
			text-decoration: none;
            font-size: 15px;
            color: #000;
		}	
        #dropdown-menu li a i{
                font-size: 15px;
            }
</style>




<script>
    document.getElementById("account-button").addEventListener("click", function (event) {
        event.stopPropagation();
        const menu = document.getElementById("dropdown-menu");
        menu.classList.toggle("hidden");
        menu.style.display = menu.classList.contains("hidden") ? "none" : "block";
    });

    document.addEventListener("click", function (event) {
        const menu = document.getElementById("dropdown-menu");
        if (!menu.contains(event.target) && !document.getElementById("account-button").contains(event.target)) {
            menu.classList.add("hidden");
            menu.style.display = "none";
        }
    });
</script>
 


