@model Product


<a asp-controller="Product" asp-action="Details" asp-route-id="@Model.Id"><img src="~/img/@Model.ImageUrl" class="card-img-top product-img p-3" alt="Product"></a>

<div class="card-body">
    <h4 class="card-title">@Model.Name</h4>
    <div class="d-flex justify-content-between mb-2">
        <h5 class="text-success">Price:</h5>
        <span class="text-muted">$@Model.Price</span>
    </div>
    <div class="d-flex justify-content-between mb-2">
        <h5 class="text-success">Discount:</h5>
        <span class="text-muted">$@Model.discount</span>
    </div> 
    <div class="d-flex justify-content-between mb-2">
         <h5 class="text-success">Price After Discount:</h5>
        <span class="text-muted">$@Model.DiscountPrice</span>
     </div>
    <div class="d-flex justify-content-between mb-2">
        <h5 class="text-success">Quantity:</h5>
        <span class="text-muted">@Model.Quantity</span>
    </div>
    <div class="d-flex justify-content-between mb-2">
        <h5 class="text-success">Reviews:</h5>
        <div class="rating-stars">
            @{
                double avgRating = Model.AverageRating;
                int fullStars = (int)avgRating;
                bool halfStar = avgRating - fullStars >= 0.5;
                int emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
            }
            @for (int i = 0; i < fullStars; i++)
            {
                <i class="fas fa-star"></i>
            }
            @if (halfStar)
            {
                <i class="fas fa-star-half-alt"></i>
            }
            @for (int i = 0; i < emptyStars; i++)
            {
                <i class="far fa-star"></i>
            }
            <span class="text-muted ms-1">(@Model.Reviews.Count)</span>
        </div>
    </div>
 </div>
<div class="card-footer bg-white d-flex justify-content-between">
    <a asp-controller="Product" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-sm btn-outline-primary">
        <i class="fas fa-edit"></i> Edit
    </a> 
    <a asp-controller="Seller" asp-action="ViewReviewAndComment" asp-route-id="@Model.Id" class="btn btn-sm btn-outline-info">
        <i class="fas fa-eye"></i> View Comment
    </a>
    <a onclick="showAlert(@Model.Id,'/Product/Delete')" class="btn btn-sm btn-outline-danger">
        <i class="fas fa-trash"></i> Delete
    </a>
</div>
